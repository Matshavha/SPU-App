<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Understanding Your Tariff</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script defer src="spuTariffsmart.js"></script>
  <style>
    /* Page-specific, minimal and clean */
    .selector { max-width: 1100px; margin: 1rem auto .75rem; }
    .selector label { font-weight: 700; display:block; margin-bottom:.4rem; }
    .selector select {
      width:100%; padding:.7rem .8rem; border:1px solid #e3e3e3; border-radius:.6rem; background:#fff;
    }

    .wrap {
      max-width: 1100px;
      margin: 0 auto 2rem;
      display: grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 1rem;
    }
    @media (max-width: 1000px){
      .wrap { grid-template-columns: 1fr; }
    }

    .viewer-card,
    .details-card {
      background:#fff; border:1px solid #eef0f3; border-radius:14px; overflow:hidden;
      box-shadow:0 6px 24px rgba(0,0,0,.06);
    }

    .viewer-head, .details-head {
      display:flex; align-items:center; gap:.75rem; padding: .9rem 1rem;
      background:#f8fafc; border-bottom:1px solid #edf0f4;
      flex-wrap:wrap;
    }
    .viewer-title, .details-title { font-weight:800; color:#0e1e5b; }

    .viewer-actions { margin-left:auto; display:flex; gap:.5rem; flex-wrap:wrap; }
    .btn {
      border:1px solid #dfe3eb; background:#fff; border-radius:.5rem; padding:.5rem .75rem;
      display:inline-flex; gap:.45rem; align-items:center; text-decoration:none; cursor:pointer; font-size:.95rem;
    }
    .btn.primary { background:#003399; color:#fff; border-color:#003399; }
    .btn.primary:hover { background:#001f70; }

    .pdf-wrap { width:100%; height:min(72vh, 880px); background:#f5f7fa; }
    .pdf-wrap iframe { width:100%; height:100%; border:0; background:#fff; }

    .details-body { padding: .9rem 1rem; }
    .card-grid {
      display:grid; grid-template-columns:1fr; gap:.6rem;
    }
    .mini-card {
      border:1px solid #e8ebf1; background:#fff; border-radius:.6rem; padding:.7rem .8rem;
      cursor:pointer; display:flex; gap:.6rem; align-items:center;
    }
    .mini-card:hover { background:#f9fbff; }
    .mini-card i { opacity: .75; }

    .panel {
      margin-top:.8rem; border:1px solid #e8ebf1; border-radius:.6rem; background:#fcfdff;
      display:none;
    }
    .panel.show { display:block; }
    .panel .panel-head {
      padding:.7rem .8rem; font-weight:700; border-bottom:1px solid #e8ebf1; background:#f8fbff;
    }
    .panel .panel-body { padding:.8rem .9rem; }
    .panel table { width:100%; border-collapse: collapse; }
    .panel th, .panel td { border:1px solid #e8ebf1; padding:.5rem; text-align:left; }
    .muted { color:#5c667a; font-size:.92rem; }
  </style>
</head>
<body>

  <a href="tariffs.html" class="back-button">
    <i class="fas fa-arrow-left"></i>
    <span>Back</span>
  </a>

  <header>
    <img src="assets/header_banner.png" alt="Eskom Banner" class="header-banner" />
  </header>

  <main class="content">
    <h1>Understanding Your Tariff</h1>

    <!-- Step 1: Select your tariff -->
    <section class="selector">
      <label for="tariffSelect">Step 1: Select your tariff</label>
      <select id="tariffSelect">
        <option value="">-- Choose --</option>
        <option value="Businessrate">Businessrate</option>
        <option value="Homepower">Homepower</option>
        <option value="Homepower Bulk">Homepower Bulk</option>
        <option value="Homelight">Homelight</option>
        <option value="Landrate">Landrate</option>
        <option value="Landlight">Landlight</option>
        <option value="Municrate">Municrate</option>
      </select>
    </section>

    <section class="wrap" id="contentWrap" style="display:none;">
      <!-- PDF viewer -->
      <article class="viewer-card">
        <div class="viewer-head">
          <div class="viewer-title" id="viewerTitle">Tariff PDF</div>
          <div class="viewer-actions">
            <a id="viewBtn" class="btn" target="_blank" rel="noopener">
              <i class="fas fa-external-link-alt"></i> View
            </a>
            <a id="downloadBtn" class="btn primary" download>
              <i class="fas fa-download"></i> Download
            </a>
          </div>
        </div>
        <div class="pdf-wrap">
          <iframe id="pdfFrame" title="Tariff PDF preview"></iframe>
        </div>
      </article>

      <!-- Details -->
      <aside class="details-card">
        <div class="details-head">
          <div class="details-title">Quick details</div>
          <div class="muted" id="detailsHint">Tap a card to view specifics.</div>
        </div>
        <div class="details-body">
          <div class="card-grid" id="detailCards">
            <!-- injected mini-cards -->
          </div>

          <!-- dynamic panel -->
          <div id="detailPanel" class="panel">
            <div class="panel-head" id="panelTitle"></div>
            <div class="panel-body" id="panelBody"></div>
          </div>
        </div>
      </aside>
    </section>
  </main>
</body>
</html>


