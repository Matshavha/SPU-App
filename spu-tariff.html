<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Understanding Your Tariff</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script defer src="spuTariffsmart.js"></script>
</head>
<body>

  <!-- Back to home -->
  <a href="index.html" class="back-button">
    <i class="fas fa-arrow-left"></i>
    <span>Back</span>
  </a>

  <header>
    <img src="assets/header_banner.png" alt="Eskom Banner" class="header-banner" />
  </header>

  <main class="content">
    <h1>Understanding Your Tariff</h1>

    <!-- Step 1: Select your tariff -->
    <section class="selector">
      <label for="tariffSelect">Step 1: Select your tariff</label>
      <select id="tariffSelect" aria-label="Select your tariff">
        <option value="">-- Choose --</option>
        <option value="Businessrate">Businessrate</option>
        <option value="Homepower">Homepower</option>
        <option value="Homepower Bulk">Homepower Bulk</option>
        <option value="Homelight">Homelight</option>
        <option value="Landrate">Landrate</option>
        <option value="Landlight">Landlight</option>
        <option value="Municrate">Municrate</option>
      </select>
    </section>

    <section class="wrap" id="contentWrap" style="display:none;">
      <!-- PDF viewer -->
      <article class="viewer-card">
        <div class="viewer-head">
          <div class="viewer-title" id="viewerTitle">Tariff PDF</div>
          <div class="viewer-actions">
            <a id="viewBtn" class="btn" target="_blank" rel="noopener">
              <i class="fas fa-external-link-alt"></i> View
            </a>
            <a id="downloadBtn" class="btn primary" download>
              <i class="fas fa-download"></i> Download
            </a>
          </div>
        </div>

        <!-- Inline PDF (mobile-friendly) -->
        <div class="pdf-wrap">
          <iframe id="pdfFrame" title="Tariff PDF preview" class="pdf-iframe"></iframe>
          <embed id="pdfEmbed" type="application/pdf" class="pdf-object" hidden />
        </div>
      </article>

      <!-- Quick details -->
      <aside class="details-card">
        <div class="details-head">
          <div class="details-title">Quick details</div>
          <div class="muted" id="detailsHint">Choose a card to view the essentials.</div>
        </div>
        <div class="details-body">
          <div class="card-grid" id="detailCards">
            <!-- Injected: Tariff Description, Supply Sizes, Rates -->
          </div>

          <!-- Dynamic panel -->
          <div id="detailPanel" class="panel" aria-live="polite">
            <div class="panel-head" id="panelTitle"></div>
            <div class="panel-body" id="panelBody"></div>
          </div>
        </div>
      </aside>
    </section>
  </main>
</body>
</html>
